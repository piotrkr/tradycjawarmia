var menuBtn = document.querySelector('.hamburger__menu'),
	offScreen = document.querySelector('.off__screen'),
	offScreenMenu = document.querySelector('.off__screen__menu')
function closeAllSubmenus() {
	document.querySelectorAll('.off__screen__toggle.active').forEach(li => {
		li.classList.remove('active')
	})
	document.querySelectorAll('.off__screen__add.active').forEach(sub => {
		sub.classList.remove('active')
	})
	document.querySelectorAll('.off__screen__toggle span').forEach(span => {
		span.textContent = '+'
	})
}
menuBtn.addEventListener('click', function () {
	menuBtn.classList.toggle('active'), offScreen.classList.toggle('active'), closeAllSubmenus()
}),
	document.querySelectorAll('.off__screen__toggle > a').forEach(function (link) {
		link.addEventListener('click', function (e) {
			const toggleLi = this.closest('li')
			const submenu = toggleLi.querySelector('.off__screen__add')
			const anchor = this.getAttribute('data-anchor')

			// Jeśli to pozycja z podmenu – obsługujemy rozwijanie/drugie kliknięcie
			if (submenu) {
				e.preventDefault() // blokujemy tylko dla pozycji z podmenu

				const isActive = toggleLi.classList.contains('active')

				closeAllSubmenus()

				if (!isActive) {
					toggleLi.classList.add('active')
					submenu.classList.add('active')
					const span = this.querySelector('span')
					if (span) span.textContent = '–'
				} else {
					menuBtn.classList.remove('active')
					offScreen.classList.remove('active')

					if (anchor) {
						window.location.href = './index.html' + anchor
					}
				}
			} else {
				// Pozycja bez podmenu (Schola, Kontakt, Szkoła) – tylko zamknij menu
				// NIE robimy e.preventDefault() – przeglądarka zrobi przejście normalnie
				menuBtn.classList.remove('active')
				offScreen.classList.remove('active')
				closeAllSubmenus()
			}
		})
	})
window.addEventListener('pageshow', function (e) {
	e.persisted && (menuBtn.classList.remove('active'), offScreen.classList.remove('active'), closeAllSubmenus())
}),
	'/' === location.pathname ||
		location.pathname.includes('index.html') ||
		(menuBtn.classList.remove('active'), offScreen.classList.remove('active'), closeAllSubmenus())
var galleryItems = document.querySelectorAll('.gallery-item'),
	lightbox = document.createElement('div'),
	lightboxContent = ((lightbox.className = 'lightbox'), document.createElement('div')),
	lightboxImg = ((lightboxContent.className = 'lightbox-content'), document.createElement('img')),
	lightboxPrevBtn = ((lightboxImg.id = 'lightbox-img'), document.createElement('div')),
	lightboxNextBtn =
		((lightboxPrevBtn.className = 'lightbox-prev'),
		(lightboxPrevBtn.innerHTML = '<i class="fa fa-angle-left"></i>'),
		document.createElement('div')),
	closeArea =
		((lightboxNextBtn.className = 'lightbox-next'),
		(lightboxNextBtn.innerHTML = '<i class="fa fa-angle-right"></i>'),
		document.createElement('div')),
	currentIndex =
		((closeArea.className = 'lightbox-close-area'),
		lightbox.appendChild(closeArea),
		lightbox.appendChild(lightboxContent),
		lightboxContent.appendChild(lightboxImg),
		lightbox.appendChild(lightboxPrevBtn),
		lightbox.appendChild(lightboxNextBtn),
		document.body.appendChild(lightbox),
		0)
function openLightbox(e) {
	e = galleryItems[(currentIndex = e)].dataset.full
	;(lightboxImg.src = e), (lightbox.style.display = 'flex')
}
function closeLightbox() {
	lightbox.style.display = 'none'
}
galleryItems.forEach(function (e, t) {
	e.addEventListener('click', function () {
		return openLightbox(t)
	})
}),
	lightboxPrevBtn.addEventListener('click', function (e) {
		e.stopPropagation(), openLightbox((currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length))
	}),
	lightboxNextBtn.addEventListener('click', function (e) {
		e.stopPropagation(), openLightbox((currentIndex = (currentIndex + 1) % galleryItems.length))
	}),
	closeArea.addEventListener('click', closeLightbox),
	lightbox.addEventListener('click', function (e) {
		e.target === lightbox && closeLightbox()
	}),
	document.addEventListener('keydown', function (e) {
		'flex' === lightbox.style.display &&
			('ArrowLeft' === e.key && lightboxPrevBtn.click(),
			'ArrowRight' === e.key && lightboxNextBtn.click(),
			'Escape' === e.key) &&
			closeLightbox()
	})
const announcementPages = document.querySelectorAll('.announcements-page')
const pageNumbersContainer = document.getElementById('page-numbers')
const prevBtn = document.getElementById('prev-btn')
const nextBtn = document.getElementById('next-btn')
const announcementsSection = document.querySelector('#announcements')

let currentPage = 1
const totalPages = announcementPages.length

// Ile numerów stron pokazujemy wokół aktualnej strony
const MAX_VISIBLE_PAGES = 3

function showPage(page) {
	if (page < 1 || page > totalPages) return

	announcementPages.forEach((el, i) => {
		el.hidden = i + 1 !== page
	})

	currentPage = page

	// Aktualizacja aktywnych buttonów
	document.querySelectorAll('.page-number').forEach(btn => {
		const num = parseInt(btn.dataset.page)
		btn.classList.toggle('active', num === page)
	})

	// Włączenie/wyłączenie przycisków prev/next
	prevBtn.classList.toggle('disabled', currentPage === 1)
	nextBtn.classList.toggle('disabled', currentPage === totalPages)

	// Scroll do góry sekcji (opcjonalne)
	announcementsSection?.scrollIntoView({ behavior: 'smooth', block: 'start' })

	renderPagination()
}

function createPageButton(page, isActive = false) {
	const btn = document.createElement('button')
	btn.className = 'page-number'
	if (isActive) btn.classList.add('active')
	btn.dataset.page = page
	btn.textContent = page
	btn.addEventListener('click', () => showPage(page))
	return btn
}

function createDots() {
	const span = document.createElement('span')
	span.className = 'page-number dots'
	span.textContent = '...'
	return span
}

function renderPagination() {
	pageNumbersContainer.innerHTML = ''

	if (totalPages <= 1) return

	// Kiedy pokazywać dużo stron
	const half = Math.floor(MAX_VISIBLE_PAGES / 2)
	let start = Math.max(2, currentPage - half)
	let end = Math.min(totalPages - 1, currentPage + half)

	// Dostosowanie zakresu, żeby zawsze było MAX_VISIBLE_PAGES (o ile to możliwe)
	if (end - start + 1 < MAX_VISIBLE_PAGES) {
		if (currentPage <= half + 1) {
			end = Math.min(totalPages - 1, start + MAX_VISIBLE_PAGES - 1)
		} else {
			start = Math.max(2, end - MAX_VISIBLE_PAGES + 1)
		}
	}

	// Zawsze pokazujemy stronę 1
	pageNumbersContainer.appendChild(createPageButton(1, currentPage === 1))

	// Kropki po jedynce jeśli trzeba
	if (start > 2) {
		pageNumbersContainer.appendChild(createDots())
	}

	// Strony środkowe
	for (let i = start; i <= end; i++) {
		pageNumbersContainer.appendChild(createPageButton(i, i === currentPage))
	}

	// Kropki przed ostatnią stroną jeśli trzeba
	if (end < totalPages - 1) {
		pageNumbersContainer.appendChild(createDots())
	}

	// Zawsze pokazujemy ostatnią stronę (chyba że już jest w zakresie)
	if (end < totalPages) {
		pageNumbersContainer.appendChild(createPageButton(totalPages, currentPage === totalPages))
	}
}

// Inicjalizacja
if (announcementPages.length > 0 && pageNumbersContainer && prevBtn && nextBtn) {
	prevBtn.addEventListener('click', () => {
		if (currentPage > 1) showPage(currentPage - 1)
	})

	nextBtn.addEventListener('click', () => {
		if (currentPage < totalPages) showPage(currentPage + 1)
	})

	renderPagination()
	showPage(1)
}
const newsData = [
	{
		image: 'img/592960151_1154488490130242_8877612135666923510_n.jpg',
		date: '15 grudnia 2025',
		title: 'Msza święta w Sanktuarium Gietrzwałdzkim',
		excerpt: 'W gietrzwałdzkim sanktuarium odbyła się msza tradycyjna z udziałem naszego duszpasterstwa.',
		link: 'msza-swieta-w-sanktuarium-gietrzwaldzkim.html',
	},
	{
		image: 'img/Księża.jpg',
		title: 'Profesje wieczyste',
		date: '8 grudnia 2025',
		excerpt: 'Księża z naszej wspólnoty złożyli profesje wieczyste podczas uroczystej Mszy św.',
		link: '#artykul2',
	},
	{
		image: 'img/dzwon.jpg',
		title: 'Uroczyste poświęcenie dzwonu',
		date: '1 listopada 2025',
		excerpt: 'Nowy dzwon dla naszej kaplicy został poświęcony przez księdza biskupa.',
		link: '#artykul3',
	},
	{
		image: 'https://www.osmol.pl/wp-content/uploads/2021/03/Swieta-Lipka.webp',
		title: 'Pielgrzymka do Świętej Lipki',
		date: '20 października 2025',
		excerpt: 'Coroczna pielgrzymka duszpasterstwa do sanktuarium w Świętej Lipce.',
		link: '#artykul4',
	},
	{
		image: 'https://nikidw.edu.pl/wp-content/uploads/2024/12/advent-1883840_1280.jpg',
		title: 'Rekolekcje adwentowe',
		date: '5 grudnia 2025',
		excerpt: 'Rozpoczęły się rekolekcje adwentowe prowadzone przez ks. proboszcza.',
		link: '#artykul5',
	},
	{
		image: 'https://codziennypoznan.pl/wp-content/uploads/2025/12/Oplatek-Wigilia.png',
		title: 'Spotkanie opłatkowe',
		date: '20 grudnia 2025',
		excerpt: 'Tradycyjne spotkanie opłatkowe wspólnoty przed Bożym Narodzeniem.',
		link: '#artykul6',
	},
	{
		image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqU0azU1ut0lJKIy-C0UJTl7DdWTZWqb4ZMg&s',
		title: 'Msza św. Requiem',
		date: '10 listopada 2025',
		excerpt: 'Rozpoczęcie cyklu Mszy św. gregoriańskich za zmarłych.',
		link: '#artykul7',
	},
	{
		image: 'https://diecezja.pl/wp-content/uploads/2023/09/katecheza2.jpg',
		title: 'Katecheza dla młodzieży',
		date: '25 października 2025',
		excerpt: 'Spotkanie formacyjne dla młodzieży z duszpasterstwa.',
		link: '#artykul8',
	},
	{
		image: 'https://kurierostrowski.pl/wp-content/uploads/2019/12/roraty-fot2.jpg',
		title: 'Roraty 2025',
		date: '1 grudnia 2025',
		excerpt: 'Zapraszamy na codzienne Msze roratnie w okresie Adwentu.',
		link: '#artykul9',
	},
]
newsGrid = document.getElementById('newsGrid')
function createNewsCard(e) {
	var t = document.createElement('article')
	return (
		(t.className = 'news-card'),
		(t.innerHTML = '\n    <img src="'
			.concat(e.image, '" alt="')
			.concat(e.title, '" class="news-card__image">\n    <div class="news-card__content">\n      <span class="date">')
			.concat(e.date, '</span>\n      <h3>')
			.concat(e.title, '</h3>\n      <p>')
			.concat(e.excerpt, '</p>\n      <a href="')
			.concat(e.link, '" target="_blank" rel="noopener noreferrer">Czytaj dalej →</a>\n    </div>\n  ')),
		t
	)
}
if (newsGrid) {
	newsData.forEach(function (e) {
		newsGrid.appendChild(createNewsCard(e))
	})

	const newsPrev = document.querySelector('.news-carousel__prev')
	const newsNext = document.querySelector('.news-carousel__next')
	const scrollAmount = 370

	if (newsPrev && newsNext) {
		newsNext.addEventListener('click', () => {
			newsGrid.scrollBy({ left: scrollAmount, behavior: 'smooth' })
		})

		newsPrev.addEventListener('click', () => {
			newsGrid.scrollBy({ left: -scrollAmount, behavior: 'smooth' })
		})

		newsGrid.addEventListener('scroll', () => {
			newsPrev.classList.toggle('disabled', newsGrid.scrollLeft <= 10)
			newsNext.classList.toggle('disabled', newsGrid.scrollLeft + newsGrid.clientWidth >= newsGrid.scrollWidth - 10)
		})
	}
}
document.addEventListener('DOMContentLoaded', function () {
	var e = document.getElementById('current-year'),
		t = (e && (e.textContent = new Date().getFullYear()), document.getElementById('scrollTopBtn')),
		e =
			(t &&
				(window.addEventListener('scroll', function () {
					300 < window.scrollY ? t.classList.add('visible') : t.classList.remove('visible')
				}),
				t.addEventListener('click', function () {
					window.scrollTo({ top: 0, behavior: 'smooth' })
				})),
			document.querySelectorAll('.accordion__header'))
	0 === e.length
		? console.warn('Nie znaleziono elementów .accordion__header – sprawdź HTML')
		: e.forEach(function (e) {
				e.addEventListener('click', function () {
					var e = this.nextElementSibling
					e &&
						e.classList.contains('accordion__panel') &&
						(this.querySelector('.accordion__icon'),
						e.classList.contains('open')
							? (e.classList.remove('open'), this.classList.remove('active'))
							: (e.classList.add('open'), this.classList.add('active')))
				})
		  })
}),
	document.addEventListener('DOMContentLoaded', function () {
		var e = document.querySelectorAll('.gallery-item')
		0 !== e.length &&
			e.forEach(function (e) {
				;(e.style.transition = 'opacity 0.3s ease'),
					e.addEventListener('mouseenter', function () {
						e.style.opacity = '1'
					}),
					e.addEventListener('mouseleave', function () {
						e.style.opacity = '0.85'
					}),
					e.addEventListener('focus', function () {
						e.style.opacity = '1'
					}),
					e.addEventListener('blur', function () {
						e.style.opacity = '0.85'
					}),
					e.addEventListener(
						'touchstart',
						function () {
							e.style.opacity = '1'
						},
						{ passive: !0 }
					),
					e.addEventListener('touchend', function () {
						setTimeout(function () {
							e.style.opacity = '0.85'
						}, 200)
					}),
					e.addEventListener('touchcancel', function () {
						e.style.opacity = '0.85'
					})
			})
	}),
	document.addEventListener('DOMContentLoaded', function () {
		var t,
			n,
			a,
			o = document.getElementById('gallery-container')
		o &&
			((t = !1),
			o.addEventListener('mousedown', function (e) {
				;(t = !0), o.classList.add('active'), (n = e.pageX - o.offsetLeft), (a = o.scrollLeft)
			}),
			o.addEventListener('mouseleave', function () {
				;(t = !1), o.classList.remove('active')
			}),
			o.addEventListener('mouseup', function () {
				;(t = !1), o.classList.remove('active')
			}),
			o.addEventListener('mousemove', function (e) {
				t && (e.preventDefault(), (e = 2 * (e.pageX - o.offsetLeft - n)), (o.scrollLeft = a - e))
			}))
	})
// Zamykanie menu po kliknięciu w linki podmenu (np. Newsletter, Ogłoszenia)
document.querySelectorAll('.off__screen__menu a[href]').forEach(function (link) {
	link.addEventListener('click', function (e) {
		const href = this.getAttribute('href').trim()

		if (href === '#' || href === '') return

		menuBtn.classList.remove('active')
		offScreen.classList.remove('active')
		closeAllSubmenus()

		if (href.startsWith('#') && href.length > 1) {
			e.preventDefault()
			setTimeout(() => {
				const target = document.querySelector(href)
				if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' })
			}, 350)
		}
	})
})

document.getElementById('phoneReveal').addEventListener(
	'click',
	function (e) {
		const encoded = 'KzQ4IDU3MiA5MDMgNTc5' // Base64 → "+48 572 903 579"

		// małe opóźnienie 800–1200 ms – zniechęca proste automatyczne scrapery
		setTimeout(() => {
			const number = atob(encoded)
			const cleanNumber = number.replace(/\s/g, '')

			this.innerHTML = `
            <a href="tel:${cleanNumber}" 
               style="color: inherit; text-decoration: none; border-bottom: none;">
                ${number}
            </a>
        `
			this.style.cursor = 'default'
			this.style.borderBottom = 'none'
		}, 900 + Math.random() * 600) // losowe opóźnienie 0.9–1.5 s
	},
	{ once: true }
)

// Prosta obsługa formularza + komunikaty
document.getElementById('newsletterForm')?.addEventListener('submit', function (e) {
	e.preventDefault()

	const form = e.target
	const messageEl = document.getElementById('formMessage')

	// Symulacja wysyłania (zamień na prawdziwe wysyłanie np. Formspree, MailerLite, Getform itp.)
	messageEl.textContent = 'Wysyłanie...'
	messageEl.className = 'newsletter__message'

	setTimeout(() => {
		// Tutaj normalnie byłaby odpowiedź z serwera
		// Dla testów symulujemy sukces
		messageEl.textContent = 'Dziękujemy! Sprawdź swoją skrzynkę'
		messageEl.className = 'newsletter__message success'
		form.reset()
	}, 1200)
})

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9mZlNjcmVlbiIsIm9mZlNjcmVlbk1lbnUiLCJjbG9zZUFsbFN1Ym1lbnVzIiwiZm9yRWFjaCIsImUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaXNBY3RpdmUiLCJ0aGlzIiwic3VibWVudSIsImNvbnRhaW5zIiwiYWRkIiwic3BhbiIsInRleHRDb250ZW50IiwicmVtb3ZlIiwidGFyZ2V0Iiwid2luZG93IiwiZ2V0QXR0cmlidXRlIiwidHJpbSIsImhyZWYiLCJzY3JvbGxJbnRvVmlldyIsImxlbmd0aCIsImJlaGF2aW9yIiwic2V0VGltZW91dCIsImluY2x1ZGVzIiwiYW5jaG9ySWQiLCJhbmNob3JFbGVtZW50Iiwic3BsaXQiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZ2FsbGVyeUl0ZW1zIiwibGlnaHRib3giLCJjbGFzc05hbWUiLCJjcmVhdGVFbGVtZW50IiwibGlnaHRib3hJbWciLCJsaWdodGJveENvbnRlbnQiLCJsaWdodGJveFByZXZCdG4iLCJsaWdodGJveE5leHRCdG4iLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImNsb3NlQXJlYSIsImN1cnJlbnRJbmRleCIsIm9wZW5MaWdodGJveCIsImZ1bGxTcmMiLCJkYXRhc2V0Iiwic3R5bGUiLCJpbmRleCIsImZ1bGwiLCJrZXkiLCJkaXNwbGF5IiwiaXRlbSIsImNsb3NlTGlnaHRib3giLCJhbm5vdW5jZW1lbnRQYWdlcyIsInBhZ2VOdW1iZXJzQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJwYWdpbmF0aW9uUHJldkJ0biIsInNob3dQYWdlIiwicmVuZGVyUGFnaW5hdGlvbiIsInRvdGFsUGFnZXMiLCJjdXJyZW50UGFnZSIsInBhZ2luYXRpb25OZXh0QnRuIiwicHJldkJ0biIsIm5leHRCdG4iLCJzY3JvbGxBbW91bnQiLCJwYWdlTnVtYmVyIiwiYW5ub3VuY2VtZW50c1NlY3Rpb24iLCJidG4iLCJuZXdzRGF0YSIsInBhZ2UiLCJjcmVhdGVQYWdlQnV0dG9uIiwiYnRuUGFnZSIsImJ1dHRvbiIsImJsb2NrIiwiZG90cyIsIm51bSIsImkiLCJNYXRoIiwibWluIiwibWF4IiwiZGlzcGxheWVkTGFzdFBhZ2VOdW1iZXIiLCJsYXN0UGFnZVRvU2hvdyIsInRpdGxlIiwiaW1hZ2UiLCJkYXRlIiwiZXhjZXJwdCIsImxpbmsiLCJuZXdzR3JpZCIsImNhcmQiLCJjcmVhdGVOZXdzQ2FyZCIsImNvbmNhdCIsInllYXJFbGVtZW50Iiwic2Nyb2xsVG9wQnRuIiwic2Nyb2xsQnkiLCJsZWZ0IiwiYWNjb3JkaW9uSGVhZGVycyIsInNjcm9sbExlZnQiLCJjbGllbnRXaWR0aCIsInNjcm9sbFdpZHRoIiwicGFuZWwiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJzY3JvbGxZIiwib3BhY2l0eSIsImNvbnNvbGUiLCJ3YXJuIiwiaGVhZGVyIiwiZ2FsbGVyeUNvbnRhaW5lciIsInN0YXJ0WCIsInBhc3NpdmUiLCJpc0Rvd24iLCJwYWdlWCIsIm9mZnNldExlZnQiLCJ3YWxrIl0sIm1hcHBpbmdzIjoiQUFDQSxJQUFBQSxRQUFBQyxTQUFBQyxjQUFBLGtCQUFBLEVBQ0FDLFVBQUFGLFNBQUFDLGNBQUEsY0FBQSxFQUNNRixjQUFrQkMsU0FBQ0MsY0FBYyxvQkFBbUIsRUFFMUQsU0FBTUUsbUJBRU5ILFNBQVNJLGlCQUFnQiwwQkFBRyxFQUFBQyxRQUFBLFNBQUFDLEdBQzNCTixFQUFBQSxVQUFTTyxPQUFBQSxRQUFpQixDQUUxQixDQUFDLEVBQ0RQLFNBREVPLGlCQUFBLDJCQUFBLEVBQUFGLFFBQUEsU0FBQUMsR0FDRk4sRUFBQUEsWUFBU08sR0FFVCxDQUFDLENBQ0YsQ0FFQVIsUUFBUVMsaUJBQWlCLFFBQVMsV0FDakNULFFBQU9VLFVBQVVDLE9BQU8sUUFBQyxFQUN6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QUFpQixZQUFhLFNBQUFGLEdBQzlDNkcsRUFBUyxDQUFBLEVBQ1RILEVBQWlCdkcsVUFBVVEsSUFBSSxRQUFRLEVBQ3ZDZ0csRUFBUzNHLEVBQUU4RyxNQUFRSixFQUFpQkssV0FDcENoQixFQUFhVyxFQUFpQlgsVUFDL0IsQ0FBQyxFQUVEVyxFQUFpQnhHLGlCQUFpQixhQUFjLFdBQy9DMkcsRUFBUyxDQUFBLEVBQ1RILEVBQWlCdkcsVUFBVVcsT0FBTyxRQUFRLENBQzNDLENBQUMsRUFFRDRGLEVBQWlCeEcsaUJBQWlCLFVBQVcsV0FDNUMyRyxFQUFTLENBQUEsRUFDVEgsRUFBaUJ2RyxVQUFVVyxPQUFPLFFBQVEsQ0FDM0MsQ0FBQyxFQUVENEYsRUFBaUJ4RyxpQkFBaUIsWUFBYSxTQUFBRixHQUN6QzZHLElBQ0w3RyxFQUFFSyxlQUFlLEVBRVgyRyxFQUFzQixHQURsQmhILEVBQUU4RyxNQUFRSixFQUFpQkssV0FDbkJKLEdBQ2xCRCxFQUFpQlgsV0FBYUEsRUFBYWlCLEVBQzVDLENBQUMsRUFDRixDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PVxuLy8gTUVOVSBPRkYtU0NSRUVOIChIQU1CVVJHRVIpXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG5jb25zdCBtZW51QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcl9fbWVudScpXG5jb25zdCBvZmZTY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmX19zY3JlZW4nKVxuY29uc3Qgb2ZmU2NyZWVuTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vZmZfX3NjcmVlbl9fbWVudScpXG5cbmZ1bmN0aW9uIGNsb3NlQWxsU3VibWVudXMoKSB7XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vZmZfX3NjcmVlbl9fYWRkLmFjdGl2ZScpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcblx0XHRlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0pXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vZmZfX3NjcmVlbl9fdG9nZ2xlIHNwYW4nKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS50ZXh0Q29udGVudCA9ICcrJ1xuXHR9KVxufVxuXG5tZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdG9mZlNjcmVlbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuXHRjbG9zZUFsbFN1Ym1lbnVzKClcbn0pXG5cbi8vIFJvendpamFuaWUgcG9kbWVudSB3IG1lbnUgbW9iaWxueW1cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vZmZfX3NjcmVlbl9fdG9nZ2xlID4gYVtocmVmPVwiI1wiXScpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcblx0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKVxuXG5cdFx0Y29uc3Qgc3VibWVudSA9IHRoaXMuY2xvc2VzdCgnbGknKS5xdWVyeVNlbGVjdG9yKCcub2ZmX19zY3JlZW5fX2FkZCcpXG5cdFx0Y29uc3QgaXNBY3RpdmUgPSBzdWJtZW51LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJylcblxuXHRcdGNsb3NlQWxsU3VibWVudXMoKVxuXG5cdFx0aWYgKCFpc0FjdGl2ZSkge1xuXHRcdFx0c3VibWVudS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdFx0Y29uc3Qgc3BhbiA9IHRoaXMucXVlcnlTZWxlY3Rvcignc3BhbicpXG5cdFx0XHRpZiAoc3Bhbikgc3Bhbi50ZXh0Q29udGVudCA9ICfigJMnXG5cdFx0fVxuXHR9KVxufSlcblxuLy8gWmFteWthbmllIG1lbnUgcG8ga2xpa25pxJljaXUgdyBsaW5rICh6IG9ic8WCdWfEhSBzbW9vdGggc2Nyb2xsKVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9mZl9fc2NyZWVuX19tZW51IGFbaHJlZl06bm90KFtocmVmPVwiI1wiXSknKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG5cdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHRcdGNvbnN0IGhyZWYgPSB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpLnRyaW0oKVxuXG5cdFx0bWVudUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdG9mZlNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdGNsb3NlQWxsU3VibWVudXMoKVxuXG5cdFx0aWYgKGhyZWYuc3RhcnRzV2l0aCgnIycpICYmIGhyZWYubGVuZ3RoID4gMSkge1xuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihocmVmKVxuXHRcdFx0aWYgKHRhcmdldCkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0dGFyZ2V0LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pXG5cdFx0XHRcdH0sIDM1MClcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGhyZWYuaW5jbHVkZXMoJyMnKSkge1xuXHRcdFx0Y29uc3QgYW5jaG9ySWQgPSBocmVmLnNwbGl0KCcjJylbMV1cblx0XHRcdGNvbnN0IGFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGFuY2hvcklkKVxuXHRcdFx0aWYgKGFuY2hvckVsZW1lbnQpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdGFuY2hvckVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcblx0XHRcdFx0fSwgNTAwKVxuXHRcdFx0fVxuXHRcdH1cblx0fSlcbn0pXG5cbi8vIFJlc2V0IHN0YW51IG1lbnUgcHJ6eSBwb3dyb2NpZSB6IGJmY2FjaGVcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwYWdlc2hvdycsIGZ1bmN0aW9uIChlKSB7XG5cdGlmIChlLnBlcnNpc3RlZCkge1xuXHRcdG1lbnVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRvZmZTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRjbG9zZUFsbFN1Ym1lbnVzKClcblx0fVxufSlcblxuLy8gUmVzZXQgbWVudSwgamXFm2xpIG5pZSBqZXN0ZcWbbXkgbmEgc3Ryb25pZSBnxYLDs3duZWpcbmlmIChsb2NhdGlvbi5wYXRobmFtZSAhPT0gJy8nICYmICFsb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnaW5kZXguaHRtbCcpKSB7XG5cdG1lbnVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0b2ZmU2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdGNsb3NlQWxsU3VibWVudXMoKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBMSUdIVEJPWCBHQUxFUklJXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG5jb25zdCBnYWxsZXJ5SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeS1pdGVtJylcblxuLy8gVHdvcnplbmllIGxpZ2h0Ym94YVxuY29uc3QgbGlnaHRib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxubGlnaHRib3guY2xhc3NOYW1lID0gJ2xpZ2h0Ym94J1xuXG5jb25zdCBsaWdodGJveENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxubGlnaHRib3hDb250ZW50LmNsYXNzTmFtZSA9ICdsaWdodGJveC1jb250ZW50J1xuXG5jb25zdCBsaWdodGJveEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG5saWdodGJveEltZy5pZCA9ICdsaWdodGJveC1pbWcnXG5cbmNvbnN0IGxpZ2h0Ym94UHJldkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIC8vIHptaWVuaW9uYSBuYXp3YSwgxbxlYnkgbmllIGtvbGlkb3dhxYJhXG5saWdodGJveFByZXZCdG4uY2xhc3NOYW1lID0gJ2xpZ2h0Ym94LXByZXYnXG5saWdodGJveFByZXZCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtbGVmdFwiPjwvaT4nXG5cbmNvbnN0IGxpZ2h0Ym94TmV4dEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIC8vIHptaWVuaW9uYSBuYXp3YVxubGlnaHRib3hOZXh0QnRuLmNsYXNzTmFtZSA9ICdsaWdodGJveC1uZXh0J1xubGlnaHRib3hOZXh0QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhIGZhLWFuZ2xlLXJpZ2h0XCI+PC9pPidcblxuY29uc3QgY2xvc2VBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbmNsb3NlQXJlYS5jbGFzc05hbWUgPSAnbGlnaHRib3gtY2xvc2UtYXJlYSdcblxuLy8gU2vFgmFkYW5pZSBzdHJ1a3R1cnlcbmxpZ2h0Ym94LmFwcGVuZENoaWxkKGNsb3NlQXJlYSlcbmxpZ2h0Ym94LmFwcGVuZENoaWxkKGxpZ2h0Ym94Q29udGVudClcbmxpZ2h0Ym94Q29udGVudC5hcHBlbmRDaGlsZChsaWdodGJveEltZylcbmxpZ2h0Ym94LmFwcGVuZENoaWxkKGxpZ2h0Ym94UHJldkJ0bilcbmxpZ2h0Ym94LmFwcGVuZENoaWxkKGxpZ2h0Ym94TmV4dEJ0bilcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGlnaHRib3gpXG5cbmxldCBjdXJyZW50SW5kZXggPSAwXG5cbmZ1bmN0aW9uIG9wZW5MaWdodGJveChpbmRleCkge1xuXHRjdXJyZW50SW5kZXggPSBpbmRleFxuXHRjb25zdCBmdWxsU3JjID0gZ2FsbGVyeUl0ZW1zW2luZGV4XS5kYXRhc2V0LmZ1bGxcblx0bGlnaHRib3hJbWcuc3JjID0gZnVsbFNyY1xuXHRsaWdodGJveC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG59XG5cbmdhbGxlcnlJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlbkxpZ2h0Ym94KGluZGV4KSlcbn0pXG5cbmxpZ2h0Ym94UHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRlLnN0b3BQcm9wYWdhdGlvbigpXG5cdGN1cnJlbnRJbmRleCA9IChjdXJyZW50SW5kZXggLSAxICsgZ2FsbGVyeUl0ZW1zLmxlbmd0aCkgJSBnYWxsZXJ5SXRlbXMubGVuZ3RoXG5cdG9wZW5MaWdodGJveChjdXJyZW50SW5kZXgpXG59KVxuXG5saWdodGJveE5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0ZS5zdG9wUHJvcGFnYXRpb24oKVxuXHRjdXJyZW50SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSBnYWxsZXJ5SXRlbXMubGVuZ3RoXG5cdG9wZW5MaWdodGJveChjdXJyZW50SW5kZXgpXG59KVxuXG5mdW5jdGlvbiBjbG9zZUxpZ2h0Ym94KCkge1xuXHRsaWdodGJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG59XG5cbmNsb3NlQXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTGlnaHRib3gpXG5saWdodGJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRpZiAoZS50YXJnZXQgPT09IGxpZ2h0Ym94KSBjbG9zZUxpZ2h0Ym94KClcbn0pXG5cbi8vIEtsYXdpYXR1cmEgdyBsaWdodGJveGllXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG5cdGlmIChsaWdodGJveC5zdHlsZS5kaXNwbGF5ID09PSAnZmxleCcpIHtcblx0XHRpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSBsaWdodGJveFByZXZCdG4uY2xpY2soKVxuXHRcdGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSBsaWdodGJveE5leHRCdG4uY2xpY2soKVxuXHRcdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIGNsb3NlTGlnaHRib3goKVxuXHR9XG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBQQUdJTkFDSkEgT0fFgU9TWkXFg1xuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBTcHJhd2TFuiwgY3p5IGVsZW1lbnR5IHBhZ2luYWNqaSBpc3RuaWVqxIUgbmEgdGVqIHN0cm9uaWUgKMW8ZWJ5IG5pZSB3eXJ6dWNhxYJvIGLFgsSZZMOzdyBuYSBpbm55Y2ggcG9kc3Ryb25hY2gpXG5jb25zdCBhbm5vdW5jZW1lbnRQYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbm5vdW5jZW1lbnRzLXBhZ2UnKVxuY29uc3QgcGFnZU51bWJlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1udW1iZXJzJylcbmNvbnN0IHBhZ2luYXRpb25QcmV2QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXYtYnRuJylcbmNvbnN0IHBhZ2luYXRpb25OZXh0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25leHQtYnRuJylcbmNvbnN0IGFubm91bmNlbWVudHNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Fubm91bmNlbWVudHMnKVxuXG5pZiAoYW5ub3VuY2VtZW50UGFnZXMubGVuZ3RoID4gMCAmJiBwYWdlTnVtYmVyc0NvbnRhaW5lciAmJiBwYWdpbmF0aW9uUHJldkJ0biAmJiBwYWdpbmF0aW9uTmV4dEJ0bikge1xuXHRjb25zdCB0b3RhbFBhZ2VzID0gYW5ub3VuY2VtZW50UGFnZXMubGVuZ3RoXG5cdGxldCBjdXJyZW50UGFnZSA9IDFcblxuXHRjb25zdCBkaXNwbGF5ZWRMYXN0UGFnZU51bWJlciA9IDEwIC8vIGlsZSBvc3RhdG5pY2ggc3Ryb24gcG9rYXp1amVteSAobW/FvGVzeiB6bWllbmnEhylcblxuXHRmdW5jdGlvbiBzaG93UGFnZShwYWdlTnVtYmVyKSB7XG5cdFx0YW5ub3VuY2VtZW50UGFnZXMuZm9yRWFjaCgocGFnZSwgaW5kZXgpID0+IHtcblx0XHRcdHBhZ2UuaGlkZGVuID0gaW5kZXggKyAxICE9PSBwYWdlTnVtYmVyXG5cdFx0fSlcblxuXHRcdGN1cnJlbnRQYWdlID0gcGFnZU51bWJlclxuXG5cdFx0Ly8gQWt0dWFsaXphY2phIGtsYXN5IGFjdGl2ZSBuYSBwcnp5Y2lza2FjaCBudW1lcsOzdyBzdHJvblxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlLW51bWJlcicpLmZvckVhY2goYnRuID0+IHtcblx0XHRcdGNvbnN0IGJ0blBhZ2UgPSBwYXJzZUludChidG4uZGF0YXNldC5wYWdlKVxuXHRcdFx0YnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGJ0blBhZ2UgPT09IHBhZ2VOdW1iZXIpXG5cdFx0fSlcblxuXHRcdC8vIFN0cnphxYJraSDigJMgZGV6YWt0eXdhY2phIG5hIGtvxYRjYWNoXG5cdFx0cGFnaW5hdGlvblByZXZCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZWQnLCBjdXJyZW50UGFnZSA9PT0gMSlcblx0XHRwYWdpbmF0aW9uTmV4dEJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlZCcsIGN1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzKVxuXG5cdFx0Ly8gU21vb3RoIHNjcm9sbCBkbyBzZWtjamkgb2fFgm9zemXFhFxuXHRcdGlmIChhbm5vdW5jZW1lbnRzU2VjdGlvbikge1xuXHRcdFx0YW5ub3VuY2VtZW50c1NlY3Rpb24uc2Nyb2xsSW50b1ZpZXcoe1xuXHRcdFx0XHRiZWhhdmlvcjogJ3Ntb290aCcsXG5cdFx0XHRcdGJsb2NrOiAnc3RhcnQnLFxuXHRcdFx0fSlcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuXHRcdHBhZ2VOdW1iZXJzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnXG5cblx0XHRjb25zdCBjcmVhdGVQYWdlQnV0dG9uID0gbnVtID0+IHtcblx0XHRcdGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG5cdFx0XHRidXR0b24uY2xhc3NOYW1lID0gJ3BhZ2UtbnVtYmVyJ1xuXHRcdFx0YnV0dG9uLmRhdGFzZXQucGFnZSA9IG51bVxuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gbnVtXG5cdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzaG93UGFnZShudW0pKVxuXHRcdFx0aWYgKG51bSA9PT0gY3VycmVudFBhZ2UpIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdFx0cGFnZU51bWJlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKVxuXHRcdH1cblxuXHRcdC8vIFphd3N6ZSBwb2thenVqZW15IHBpZXJ3c3plIDMgc3Ryb255XG5cdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gTWF0aC5taW4oMywgdG90YWxQYWdlcyk7IGkrKykge1xuXHRcdFx0Y3JlYXRlUGFnZUJ1dHRvbihpKVxuXHRcdH1cblxuXHRcdC8vIEtyb3BraSwgamXFm2xpIHBvdHJ6ZWJhXG5cdFx0aWYgKHRvdGFsUGFnZXMgPiA0KSB7XG5cdFx0XHRjb25zdCBkb3RzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG5cdFx0XHRkb3RzLmNsYXNzTmFtZSA9ICdwYWdlLW51bWJlciBkb3RzJ1xuXHRcdFx0ZG90cy50ZXh0Q29udGVudCA9ICcuLi4nXG5cdFx0XHRwYWdlTnVtYmVyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkb3RzKVxuXHRcdH1cblxuXHRcdC8vIE9zdGF0bmlhIHN0cm9uYSAobHViIGtpbGthIG9zdGF0bmljaCwgamXFm2xpIGRpc3BsYXllZExhc3RQYWdlTnVtYmVyIGplc3QgbW5pZWpzemUpXG5cdFx0Y29uc3QgbGFzdFBhZ2VUb1Nob3cgPSBNYXRoLm1heCh0b3RhbFBhZ2VzLCBkaXNwbGF5ZWRMYXN0UGFnZU51bWJlcilcblx0XHRpZiAodG90YWxQYWdlcyA+IDMgJiYgbGFzdFBhZ2VUb1Nob3cgPiAzKSB7XG5cdFx0XHRjcmVhdGVQYWdlQnV0dG9uKHRvdGFsUGFnZXMpXG5cdFx0fVxuXHR9XG5cblx0Ly8gRXZlbnR5IHN0cnphxYJla1xuXHRwYWdpbmF0aW9uUHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRpZiAoY3VycmVudFBhZ2UgPiAxKSBzaG93UGFnZShjdXJyZW50UGFnZSAtIDEpXG5cdH0pXG5cblx0cGFnaW5hdGlvbk5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0aWYgKGN1cnJlbnRQYWdlIDwgdG90YWxQYWdlcykgc2hvd1BhZ2UoY3VycmVudFBhZ2UgKyAxKVxuXHR9KVxuXG5cdC8vIEluaWNqYWxpemFjamFcblx0cmVuZGVyUGFnaW5hdGlvbigpXG5cdHNob3dQYWdlKDEpXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNFS0NKQSBBS1RVQUxOT8WaQ0kg4oCTIEtBUlVaRUxBIDkgS0FSVFxuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuY29uc3QgbmV3c0RhdGEgPSBbXG5cdHtcblx0XHRpbWFnZTogJy4uL2ltZy81OTI5NjAxNTFfMTE1NDQ4ODQ5MDEzMDI0Ml84ODc3NjEyMTM1NjY2OTIzNTEwX24uanBnJyxcblx0XHRkYXRlOiAnMTUgZ3J1ZG5pYSAyMDI1Jyxcblx0XHR0aXRsZTogJ01zemEgxZt3acSZdGEgdyBTYW5rdHVhcml1bSBHaWV0cnp3YcWCZHpraW0nLFxuXHRcdGV4Y2VycHQ6ICdXIGdpZXRyendhxYJkemtpbSBzYW5rdHVhcml1bSBvZGJ5xYJhIHNpxJkgbXN6YSB0cmFkeWN5am5hIHogdWR6aWHFgmVtIG5hc3plZ28gZHVzenBhc3RlcnN0d2EuJyxcblx0XHRsaW5rOiAnbXN6YS1zd2lldGEtdy1zYW5rdHVhcml1bS1naWV0cnp3YWxkemtpbS5odG1sJyxcblx0fSxcblx0e1xuXHRcdGltYWdlOiAnLi4vaW1nL2tzacSZxbxhLmpwZycsXG5cdFx0dGl0bGU6ICdQcm9mZXNqZSB3aWVjenlzdGUnLFxuXHRcdGRhdGU6ICc4IGdydWRuaWEgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ0tzacSZxbxhIHogbmFzemVqIHdzcMOzbG5vdHkgesWCb8W8eWxpIHByb2Zlc2plIHdpZWN6eXN0ZSBwb2RjemFzIHVyb2N6eXN0ZWogTXN6eSDFm3cuJyxcblx0XHRsaW5rOiAnI2FydHlrdWwyJyxcblx0fSxcblx0e1xuXHRcdGltYWdlOiAnLi4vaW1nL2R6d29uLmpwZycsXG5cdFx0dGl0bGU6ICdVcm9jenlzdGUgcG/Fm3dpxJljZW5pZSBkendvbnUnLFxuXHRcdGRhdGU6ICcxIGxpc3RvcGFkYSAyMDI1Jyxcblx0XHRleGNlcnB0OiAnTm93eSBkendvbiBkbGEgbmFzemVqIGthcGxpY3kgem9zdGHFgiBwb8Wbd2nEmWNvbnkgcHJ6ZXoga3NpxJlkemEgYmlza3VwYS4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDMnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICdodHRwczovL3d3dy5vc21vbC5wbC93cC1jb250ZW50L3VwbG9hZHMvMjAyMS8wMy9Td2lldGEtTGlwa2Eud2VicCcsXG5cdFx0dGl0bGU6ICdQaWVsZ3J6eW1rYSBkbyDFmndpxJl0ZWogTGlwa2knLFxuXHRcdGRhdGU6ICcyMCBwYcW6ZHppZXJuaWthIDIwMjUnLFxuXHRcdGV4Y2VycHQ6ICdDb3JvY3puYSBwaWVsZ3J6eW1rYSBkdXN6cGFzdGVyc3R3YSBkbyBzYW5rdHVhcml1bSB3IMWad2nEmXRlaiBMaXBjZS4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDQnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICdodHRwczovL25pa2lkdy5lZHUucGwvd3AtY29udGVudC91cGxvYWRzLzIwMjQvMTIvYWR2ZW50LTE4ODM4NDBfMTI4MC5qcGcnLFxuXHRcdHRpdGxlOiAnUmVrb2xla2NqZSBhZHdlbnRvd2UnLFxuXHRcdGRhdGU6ICc1IGdydWRuaWEgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ1JvenBvY3rEmcWCeSBzacSZIHJla29sZWtjamUgYWR3ZW50b3dlIHByb3dhZHpvbmUgcHJ6ZXoga3MuIHByb2Jvc3pjemEuJyxcblx0XHRsaW5rOiAnI2FydHlrdWw1Jyxcblx0fSxcblx0e1xuXHRcdGltYWdlOiAnaHR0cHM6Ly9jb2R6aWVubnlwb3puYW4ucGwvd3AtY29udGVudC91cGxvYWRzLzIwMjUvMTIvT3BsYXRlay1XaWdpbGlhLnBuZycsXG5cdFx0dGl0bGU6ICdTcG90a2FuaWUgb3DFgmF0a293ZScsXG5cdFx0ZGF0ZTogJzIwIGdydWRuaWEgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ1RyYWR5Y3lqbmUgc3BvdGthbmllIG9wxYJhdGtvd2Ugd3Nww7Nsbm90eSBwcnplZCBCb8W8eW0gTmFyb2R6ZW5pZW0uJyxcblx0XHRsaW5rOiAnI2FydHlrdWw2Jyxcblx0fSxcblx0e1xuXHRcdGltYWdlOiAnaHR0cHM6Ly9lbmNyeXB0ZWQtdGJuMC5nc3RhdGljLmNvbS9pbWFnZXM/cT10Ym46QU5kOUdjVHFVMGF6VTF1dDBsSktJeS1DMFVKVGw3RGRXVFpXcWI0Wk1nJnMnLFxuXHRcdHRpdGxlOiAnTXN6YSDFm3cuIFJlcXVpZW0nLFxuXHRcdGRhdGU6ICcxMCBsaXN0b3BhZGEgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ1JvenBvY3rEmWNpZSBjeWtsdSBNc3p5IMWbdy4gZ3JlZ29yaWHFhHNraWNoIHphIHptYXLFgnljaC4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDcnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICdodHRwczovL2RpZWNlemphLnBsL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIzLzA5L2thdGVjaGV6YTIuanBnJyxcblx0XHR0aXRsZTogJ0thdGVjaGV6YSBkbGEgbcWCb2R6aWXFvHknLFxuXHRcdGRhdGU6ICcyNSBwYcW6ZHppZXJuaWthIDIwMjUnLFxuXHRcdGV4Y2VycHQ6ICdTcG90a2FuaWUgZm9ybWFjeWpuZSBkbGEgbcWCb2R6aWXFvHkgeiBkdXN6cGFzdGVyc3R3YS4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDgnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICdodHRwczovL2t1cmllcm9zdHJvd3NraS5wbC93cC1jb250ZW50L3VwbG9hZHMvMjAxOS8xMi9yb3JhdHktZm90Mi5qcGcnLFxuXHRcdHRpdGxlOiAnUm9yYXR5IDIwMjUnLFxuXHRcdGRhdGU6ICcxIGdydWRuaWEgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ1phcHJhc3phbXkgbmEgY29kemllbm5lIE1zemUgcm9yYXRuaWUgdyBva3Jlc2llIEFkd2VudHUuJyxcblx0XHRsaW5rOiAnI2FydHlrdWw5Jyxcblx0fSxcbl1cblxuY29uc3QgbmV3c0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3c0dyaWQnKVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdzQ2FyZChpdGVtKSB7XG5cdGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJylcblx0Y2FyZC5jbGFzc05hbWUgPSAnbmV3cy1jYXJkJ1xuXG5cdGNhcmQuaW5uZXJIVE1MID0gYFxuICAgIDxpbWcgc3JjPVwiJHtpdGVtLmltYWdlfVwiIGFsdD1cIiR7aXRlbS50aXRsZX1cIiBjbGFzcz1cIm5ld3MtY2FyZF9faW1hZ2VcIj5cbiAgICA8ZGl2IGNsYXNzPVwibmV3cy1jYXJkX19jb250ZW50XCI+XG4gICAgICA8c3BhbiBjbGFzcz1cImRhdGVcIj4ke2l0ZW0uZGF0ZX08L3NwYW4+XG4gICAgICA8aDM+JHtpdGVtLnRpdGxlfTwvaDM+XG4gICAgICA8cD4ke2l0ZW0uZXhjZXJwdH08L3A+XG4gICAgICA8YSBocmVmPVwiJHtpdGVtLmxpbmt9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPkN6eXRhaiBkYWxlaiDihpI8L2E+XG4gICAgPC9kaXY+XG4gIGBcblxuXHRyZXR1cm4gY2FyZFxufVxuXG5pZiAobmV3c0dyaWQpIHtcblx0bmV3c0RhdGEuZm9yRWFjaChpdGVtID0+IHtcblx0XHRuZXdzR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVOZXdzQ2FyZChpdGVtKSlcblx0fSlcblxuXHQvLyBLYXJ1emVsYSDigJMgcHJ6ZXdpamFuaWVcblx0Y29uc3QgcHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzLWNhcm91c2VsX19wcmV2Jylcblx0Y29uc3QgbmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzLWNhcm91c2VsX19uZXh0JylcblxuXHRjb25zdCBzY3JvbGxBbW91bnQgPSAzNzAgLy8gc3plcm9rb8WbxIcga2FydHkgKyBnYXAgKGRvc3Rvc293YW5lIGRvIDM0MHB4ICsgMzBweClcblxuXHRuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG5ld3NHcmlkLnNjcm9sbEJ5KHsgbGVmdDogc2Nyb2xsQW1vdW50LCBiZWhhdmlvcjogJ3Ntb290aCcgfSlcblx0fSlcblxuXHRwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG5ld3NHcmlkLnNjcm9sbEJ5KHsgbGVmdDogLXNjcm9sbEFtb3VudCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pXG5cdH0pXG5cblx0Ly8gT3Bjam9uYWxuaWU6IHVrcnl3YW5pZSBzdHJ6YcWCZWsgbmEga2/FhGNhY2hcblx0bmV3c0dyaWQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdHByZXZCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZWQnLCBuZXdzR3JpZC5zY3JvbGxMZWZ0IDw9IDEwKVxuXHRcdG5leHRCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZWQnLCBuZXdzR3JpZC5zY3JvbGxMZWZ0ICsgbmV3c0dyaWQuY2xpZW50V2lkdGggPj0gbmV3c0dyaWQuc2Nyb2xsV2lkdGggLSAxMClcblx0fSlcbn1cblxuLy8gKE9wY2pvbmFsbmllIHpha29tZW50b3dhbnkgU3dpcGVyIOKAkyBtb8W8ZXN6IG9ka29tZW50b3dhxIcga2llZHkgYsSZZHppZSBwb3RyemVibnkpXG4vLyB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLnNsaWRlci13cmFwcGVyJywgeyAuLi4gfSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdC8vIEFrdHVhbG55IHJva1xuXHRjb25zdCB5ZWFyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXllYXInKVxuXHRpZiAoeWVhckVsZW1lbnQpIHtcblx0XHR5ZWFyRWxlbWVudC50ZXh0Q29udGVudCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxuXHR9XG5cblx0Ly8gU2Nyb2xsIHRvIHRvcCBidXR0b25cblx0Y29uc3Qgc2Nyb2xsVG9wQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njcm9sbFRvcEJ0bicpXG5cdGlmIChzY3JvbGxUb3BCdG4pIHtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdFx0aWYgKHdpbmRvdy5zY3JvbGxZID4gMzAwKSB7XG5cdFx0XHRcdHNjcm9sbFRvcEJ0bi5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJylcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNjcm9sbFRvcEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJylcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0c2Nyb2xsVG9wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0d2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSlcblx0XHR9KVxuXHR9XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBBQ0NPUkRJT04g4oCTIHdpZWxlIHBhbmVsaSBvdHdhcnR5Y2ggamVkbm9jemXFm25pZSArIMWCYWRuYSBpa29uYVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cdGNvbnN0IGFjY29yZGlvbkhlYWRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19oZWFkZXInKVxuXG5cdGlmIChhY2NvcmRpb25IZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdGNvbnNvbGUud2FybignTmllIHpuYWxlemlvbm8gZWxlbWVudMOzdyAuYWNjb3JkaW9uX19oZWFkZXIg4oCTIHNwcmF3ZMW6IEhUTUwnKVxuXHRcdHJldHVyblxuXHR9XG5cblx0YWNjb3JkaW9uSGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG5cdFx0aGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0Y29uc3QgcGFuZWwgPSB0aGlzLm5leHRFbGVtZW50U2libGluZ1xuXHRcdFx0aWYgKCFwYW5lbCB8fCAhcGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb25fX3BhbmVsJykpIHJldHVyblxuXG5cdFx0XHRjb25zdCBpY29uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19pY29uJylcblx0XHRcdGNvbnN0IGlzT3BlbiA9IHBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpXG5cblx0XHRcdGlmIChpc09wZW4pIHtcblx0XHRcdFx0Ly8gWmFta25paiB0eWxrbyB0ZW4gcGFuZWxcblx0XHRcdFx0cGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpXG5cdFx0XHRcdHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE90d8OzcnogdHlsa28gdGVuIHBhbmVsXG5cdFx0XHRcdHBhbmVsLmNsYXNzTGlzdC5hZGQoJ29wZW4nKVxuXHRcdFx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0XHR9XG5cdFx0fSlcblx0fSlcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJPWkpBxZpOSUVOSUUgTUlOSUFUVVJFSyBQUlpZIEhPVkVSIC8gRk9DVVMgLyBUQVAgKEJFWiBTS0FMT1dBTklBKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcblx0Y29uc3QgZ2FsbGVyeUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnktaXRlbScpXG5cblx0aWYgKGdhbGxlcnlJdGVtcy5sZW5ndGggPT09IDApIHJldHVyblxuXG5cdGdhbGxlcnlJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdC8vIFVzdGF3aWFteSBwxYJ5bm5lIHByemVqxZtjaWUgdHlsa28gZGxhIG9wYWNpdHkgKGJleiB0cmFuc2Zvcm0pXG5cdFx0aXRlbS5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC4zcyBlYXNlJ1xuXG5cdFx0Ly8gSG92ZXIgbXlzemvEhSAoZGVza3RvcC9sYXB0b3ApXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuXHRcdFx0aXRlbS5zdHlsZS5vcGFjaXR5ID0gJzEnXG5cdFx0fSlcblxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcblx0XHRcdGl0ZW0uc3R5bGUub3BhY2l0eSA9ICcwLjg1J1xuXHRcdH0pXG5cblx0XHQvLyBGb2N1cyAobmF3aWdhY2phIGtsYXdpYXR1csSFIOKAkyBUYWIpXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcblx0XHRcdGl0ZW0uc3R5bGUub3BhY2l0eSA9ICcxJ1xuXHRcdH0pXG5cblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG5cdFx0XHRpdGVtLnN0eWxlLm9wYWNpdHkgPSAnMC44NSdcblx0XHR9KVxuXG5cdFx0Ly8gRG90eWsgbmEgdXJ6xIVkemVuaWFjaCBtb2JpbG55Y2gg4oCTIGtyw7N0a2llIHJvemphxZtuaWVuaWUgcHJ6eSB0YXBuacSZY2l1XG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFxuXHRcdFx0J3RvdWNoc3RhcnQnLFxuXHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRpdGVtLnN0eWxlLm9wYWNpdHkgPSAnMSdcblx0XHRcdH0sXG5cdFx0XHR7IHBhc3NpdmU6IHRydWUgfVxuXHRcdClcblxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0aXRlbS5zdHlsZS5vcGFjaXR5ID0gJzAuODUnXG5cdFx0XHR9LCAyMDApXG5cdFx0fSlcblxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCAoKSA9PiB7XG5cdFx0XHRpdGVtLnN0eWxlLm9wYWNpdHkgPSAnMC44NSdcblx0XHR9KVxuXHR9KVxufSlcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuLy8gTU9VU0UgRFJBRyBUTyBTQ1JPTEwg4oCTIFBSWkVXSUpBTklFIEdBTEVSScSEIE1ZU1pLxIQgKGJleiB6bWlhbilcbi8vID09PT09PT09PT09PT09PT09PT09PT1cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG5cdGNvbnN0IGdhbGxlcnlDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FsbGVyeS1jb250YWluZXInKVxuXHRpZiAoIWdhbGxlcnlDb250YWluZXIpIHJldHVyblxuXG5cdGxldCBpc0Rvd24gPSBmYWxzZVxuXHRsZXQgc3RhcnRYXG5cdGxldCBzY3JvbGxMZWZ0XG5cblx0Z2FsbGVyeUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBlID0+IHtcblx0XHRpc0Rvd24gPSB0cnVlXG5cdFx0Z2FsbGVyeUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdHN0YXJ0WCA9IGUucGFnZVggLSBnYWxsZXJ5Q29udGFpbmVyLm9mZnNldExlZnRcblx0XHRzY3JvbGxMZWZ0ID0gZ2FsbGVyeUNvbnRhaW5lci5zY3JvbGxMZWZ0XG5cdH0pXG5cblx0Z2FsbGVyeUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuXHRcdGlzRG93biA9IGZhbHNlXG5cdFx0Z2FsbGVyeUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHR9KVxuXG5cdGdhbGxlcnlDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHtcblx0XHRpc0Rvd24gPSBmYWxzZVxuXHRcdGdhbGxlcnlDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0fSlcblxuXHRnYWxsZXJ5Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4ge1xuXHRcdGlmICghaXNEb3duKSByZXR1cm5cblx0XHRlLnByZXZlbnREZWZhdWx0KClcblx0XHRjb25zdCB4ID0gZS5wYWdlWCAtIGdhbGxlcnlDb250YWluZXIub2Zmc2V0TGVmdFxuXHRcdGNvbnN0IHdhbGsgPSAoeCAtIHN0YXJ0WCkgKiAyXG5cdFx0Z2FsbGVyeUNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdCAtIHdhbGtcblx0fSlcbn0pXG4iXX0=
