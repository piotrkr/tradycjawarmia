var menuBtn=document.querySelector(".hamburger__menu"),offScreen=document.querySelector(".off__screen"),offScreenMenu=document.querySelector(".off__screen__menu");function closeAllSubmenus(){document.querySelectorAll(".off__screen__add.active").forEach(function(e){return e.classList.remove("active")}),document.querySelectorAll(".off__screen__toggle span").forEach(function(e){return e.textContent="+"})}menuBtn&&offScreen&&menuBtn.addEventListener("click",function(){menuBtn.classList.toggle("active"),offScreen.classList.toggle("active"),document.body.classList.toggle("menu-open"),closeAllSubmenus()}),document.querySelectorAll('.off__screen__toggle > a[href="#"]').forEach(function(n){n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var e=n.closest("li").querySelector(".off__screen__add"),t=e.classList.contains("active");closeAllSubmenus(),!t&&(e.classList.add("active"),t=n.querySelector("span"))&&(t.textContent="–")})}),document.querySelectorAll('.off__screen__menu a[href]:not([href="#"])').forEach(function(a){a.addEventListener("click",function(e){var t,n=a.getAttribute("href").trim();menuBtn.classList.remove("active"),offScreen.classList.remove("active"),document.body.classList.remove("menu-open"),closeAllSubmenus(),n.startsWith("#")&&(t=document.querySelector(n))&&(e.preventDefault(),setTimeout(function(){t.scrollIntoView({behavior:"smooth"})},300))})}),window.addEventListener("pageshow",function(e){e.persisted&&(menuBtn.classList.remove("active"),offScreen.classList.remove("active"),document.body.classList.remove("menu-open"),closeAllSubmenus())}),"/"===location.pathname||location.pathname.includes("index.html")||(null!=menuBtn&&menuBtn.classList.remove("active"),null!=offScreen&&offScreen.classList.remove("active"),document.body.classList.remove("menu-open"),closeAllSubmenus());var galleryItems=document.querySelectorAll(".gallery-item"),lightbox=document.createElement("div"),lightboxContent=(lightbox.className="lightbox",document.createElement("div")),lightboxImg=(lightboxContent.className="lightbox-content",document.createElement("img")),lightboxPrevBtn=(lightboxImg.id="lightbox-img",document.createElement("div")),lightboxNextBtn=(lightboxPrevBtn.className="lightbox-prev",lightboxPrevBtn.innerHTML='<i class="fa fa-angle-left"></i>',document.createElement("div")),closeArea=(lightboxNextBtn.className="lightbox-next",lightboxNextBtn.innerHTML='<i class="fa fa-angle-right"></i>',document.createElement("div")),currentIndex=(closeArea.className="lightbox-close-area",lightbox.appendChild(closeArea),lightbox.appendChild(lightboxContent),lightboxContent.appendChild(lightboxImg),lightbox.appendChild(lightboxPrevBtn),lightbox.appendChild(lightboxNextBtn),document.body.appendChild(lightbox),0);function openLightbox(e){currentIndex=e,lightboxImg.src=galleryItems[e].dataset.full,lightbox.style.display="flex"}function closeLightbox(){lightbox.style.display="none"}galleryItems.forEach(function(e,t){e.addEventListener("click",function(){return openLightbox(t)})}),lightboxPrevBtn.addEventListener("click",function(e){e.stopPropagation(),openLightbox(currentIndex=(currentIndex-1+galleryItems.length)%galleryItems.length)}),lightboxNextBtn.addEventListener("click",function(e){e.stopPropagation(),openLightbox(currentIndex=(currentIndex+1)%galleryItems.length)}),closeArea.addEventListener("click",closeLightbox),lightbox.addEventListener("click",function(e){e.target===lightbox&&closeLightbox()}),document.addEventListener("keydown",function(e){"flex"===lightbox.style.display&&("ArrowLeft"===e.key&&lightboxPrevBtn.click(),"ArrowRight"===e.key&&lightboxNextBtn.click(),"Escape"===e.key)&&closeLightbox()});var showPage,renderPagination,currentPage,totalPages,prevBtn,nextBtn,scrollAmount,announcementPages=document.querySelectorAll(".announcements-page"),pageNumbersContainer=document.getElementById("page-numbers"),paginationPrevBtn=document.getElementById("prev-btn"),paginationNextBtn=document.getElementById("next-btn"),newsData=(announcementPages.length&&pageNumbersContainer&&paginationPrevBtn&&paginationNextBtn&&(showPage=function(n){announcementPages.forEach(function(e,t){e.hidden=t+1!==n}),currentPage=n,document.querySelectorAll(".page-number").forEach(function(e){e.classList.toggle("active",parseInt(e.dataset.page)===n)}),paginationPrevBtn.classList.toggle("disabled",1===currentPage),paginationNextBtn.classList.toggle("disabled",currentPage===totalPages)},renderPagination=function(){pageNumbersContainer.innerHTML="";for(var e,t=function(e){var t=document.createElement("button");t.className="page-number",t.dataset.page=e,t.textContent=e,t.addEventListener("click",function(){return showPage(e)}),e===currentPage&&t.classList.add("active"),pageNumbersContainer.appendChild(t)},n=1;n<=Math.min(3,totalPages);n++)t(n);4<totalPages&&((e=document.createElement("span")).className="page-number dots",e.textContent="...",pageNumbersContainer.appendChild(e)),3<totalPages&&t(totalPages)},currentPage=1,totalPages=announcementPages.length,paginationPrevBtn.addEventListener("click",function(){1<currentPage&&showPage(currentPage-1)}),paginationNextBtn.addEventListener("click",function(){currentPage<totalPages&&showPage(currentPage+1)}),renderPagination(),showPage(1)),[{image:"img/592960151_1154488490130242_8877612135666923510_n.jpg",date:"15 grudnia 2025",title:"Msza święta w Sanktuarium Gietrzwałdzkim",excerpt:"W gietrzwałdzkim sanktuarium odbyła się msza tradycyjna z udziałem naszego duszpasterstwa.",link:"msza-swieta-w-sanktuarium-gietrzwaldzkim.html"},{image:"img/księża.jpg",title:"Profesje wieczyste",date:"8 grudnia 2025",excerpt:"Księża z naszej wspólnoty złożyli profesje wieczyste podczas uroczystej Mszy św.",link:"#artykul2"},{image:"img/dzwon.jpg",title:"Uroczyste poświęcenie dzwonu",date:"1 listopada 2025",excerpt:"Nowy dzwon dla naszej kaplicy został poświęcony przez księdza biskupa.",link:"#artykul3"},{image:"https://www.osmol.pl/wp-content/uploads/2021/03/Swieta-Lipka.webp",title:"Pielgrzymka do Świętej Lipki",date:"20 października 2025",excerpt:"Coroczna pielgrzymka duszpasterstwa do sanktuarium w Świętej Lipce.",link:"#artykul4"},{image:"https://nikidw.edu.pl/wp-content/uploads/2024/12/advent-1883840_1280.jpg",title:"Rekolekcje adwentowe",date:"5 grudnia 2025",excerpt:"Rozpoczęły się rekolekcje adwentowe prowadzone przez ks. proboszcza.",link:"#artykul5"},{image:"https://codziennypoznan.pl/wp-content/uploads/2025/12/Oplatek-Wigilia.png",title:"Spotkanie opłatkowe",date:"20 grudnia 2025",excerpt:"Tradycyjne spotkanie opłatkowe wspólnoty przed Bożym Narodzeniem.",link:"#artykul6"},{image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqU0azU1ut0lJKIy-C0UJTl7DdWTZWqb4ZMg&s",title:"Msza św. Requiem",date:"10 listopada 2025",excerpt:"Rozpoczęcie cyklu Mszy św. gregoriańskich za zmarłych.",link:"#artykul7"},{image:"https://diecezja.pl/wp-content/uploads/2023/09/katecheza2.jpg",title:"Katecheza dla młodzieży",date:"25 października 2025",excerpt:"Spotkanie formacyjne dla młodzieży z duszpasterstwa.",link:"#artykul8"},{image:"https://kurierostrowski.pl/wp-content/uploads/2019/12/roraty-fot2.jpg",title:"Roraty 2025",date:"1 grudnia 2025",excerpt:"Zapraszamy na codzienne Msze roratnie w okresie Adwentu.",link:"#artykul9"}]),newsGrid=document.getElementById("newsGrid");function createNewsCard(e){var t=document.createElement("article");return t.className="news-card",t.innerHTML='\n    <img src="'.concat(e.image,'" alt="').concat(e.title,'" class="news-card__image">\n    <div class="news-card__content">\n      <span class="date">').concat(e.date,"</span>\n      <h3>").concat(e.title,"</h3>\n      <p>").concat(e.excerpt,'</p>\n      <a href="').concat(e.link,'" target="_blank" rel="noopener noreferrer">Czytaj dalej →</a>\n    </div>\n  '),t}newsGrid&&(newsData.forEach(function(e){return newsGrid.appendChild(createNewsCard(e))}),prevBtn=document.querySelector(".news-carousel__prev"),nextBtn=document.querySelector(".news-carousel__next"),scrollAmount=370,nextBtn.addEventListener("click",function(){newsGrid.scrollBy({left:scrollAmount,behavior:"smooth"})}),prevBtn.addEventListener("click",function(){newsGrid.scrollBy({left:-scrollAmount,behavior:"smooth"})}),newsGrid.addEventListener("scroll",function(){prevBtn.classList.toggle("disabled",newsGrid.scrollLeft<=10),nextBtn.classList.toggle("disabled",newsGrid.scrollLeft+newsGrid.clientWidth>=newsGrid.scrollWidth-10)})),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("current-year"),t=(e&&(e.textContent=(new Date).getFullYear()),document.getElementById("scrollTopBtn"));t&&(window.addEventListener("scroll",function(){t.classList.toggle("visible",300<window.scrollY)}),t.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})),document.querySelectorAll(".accordion__header").forEach(function(e){e.addEventListener("click",function(){var e=this.nextElementSibling;e&&e.classList.contains("accordion__panel")&&(e.classList.contains("open")?(e.classList.remove("open"),this.classList.remove("active")):(e.classList.add("open"),this.classList.add("active")))})})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".gallery-item");e.length&&e.forEach(function(e){e.style.transition="opacity 0.3s ease",e.addEventListener("mouseenter",function(){return e.style.opacity="1"}),e.addEventListener("mouseleave",function(){return e.style.opacity="0.85"}),e.addEventListener("focus",function(){return e.style.opacity="1"}),e.addEventListener("blur",function(){return e.style.opacity="0.85"}),e.addEventListener("touchstart",function(){return e.style.opacity="1"},{passive:!0}),e.addEventListener("touchend",function(){return setTimeout(function(){return e.style.opacity="0.85"},200)}),e.addEventListener("touchcancel",function(){return e.style.opacity="0.85"})})}),document.addEventListener("DOMContentLoaded",function(){var t,n,a,o=document.getElementById("gallery-container");o&&(t=!1,o.addEventListener("mousedown",function(e){t=!0,o.classList.add("active"),n=e.pageX-o.offsetLeft,a=o.scrollLeft}),o.addEventListener("mouseleave",function(){t=!1,o.classList.remove("active")}),o.addEventListener("mouseup",function(){t=!1,o.classList.remove("active")}),o.addEventListener("mousemove",function(e){t&&(e.preventDefault(),e=2*(e.pageX-o.offsetLeft-n),o.scrollLeft=a-e)}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9mZlNjcmVlbiIsIm9mZlNjcmVlbk1lbnUiLCJjbG9zZUFsbFN1Ym1lbnVzIiwiZm9yRWFjaCIsImUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwiYm9keSIsImxpbmsiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImNsb3Nlc3QiLCJjb250YWlucyIsInN1Ym1lbnUiLCJpc0FjdGl2ZSIsImFkZCIsInNwYW4iLCJocmVmIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJzZXRUaW1lb3V0IiwidGFyZ2V0IiwiYmVoYXZpb3IiLCJ3aW5kb3ciLCJwZXJzaXN0ZWQiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiaW5jbHVkZXMiLCJnYWxsZXJ5SXRlbXMiLCJsaWdodGJveCIsImNyZWF0ZUVsZW1lbnQiLCJsaWdodGJveEltZyIsImxpZ2h0Ym94Q29udGVudCIsImxpZ2h0Ym94UHJldkJ0biIsImlkIiwiY2xhc3NOYW1lIiwibGlnaHRib3hOZXh0QnRuIiwiaW5uZXJIVE1MIiwiY2xvc2VBcmVhIiwiYXBwZW5kQ2hpbGQiLCJjdXJyZW50SW5kZXgiLCJvcGVuTGlnaHRib3giLCJpbmRleCIsInNyYyIsImRhdGFzZXQiLCJmdWxsIiwic3R5bGUiLCJkaXNwbGF5Iiwia2V5IiwiaXRlbSIsImxlbmd0aCIsImNsb3NlTGlnaHRib3giLCJhbm5vdW5jZW1lbnRQYWdlcyIsInBhZ2VOdW1iZXJzQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJwYWdpbmF0aW9uUHJldkJ0biIsInBhZ2luYXRpb25OZXh0QnRuIiwiYnV0dG9uIiwiY3VycmVudFBhZ2UiLCJwcmV2QnRuIiwibmV4dEJ0biIsInNjcm9sbEFtb3VudCIsImJ0biIsInBhcnNlSW50IiwibmV3c0RhdGEiLCJwYWdlIiwicGFnZU51bWJlciIsInNob3dQYWdlIiwibnVtIiwidG90YWxQYWdlcyIsImRvdHMiLCJjcmVhdGVQYWdlQnV0dG9uIiwiaSIsIk1hdGgiLCJtaW4iLCJ0aXRsZSIsInJlbmRlclBhZ2luYXRpb24iLCJpbWFnZSIsImRhdGUiLCJleGNlcnB0IiwibmV3c0dyaWQiLCJjYXJkIiwiY3JlYXRlTmV3c0NhcmQiLCJ5ZWFyRWxlbWVudCIsInNjcm9sbFRvcEJ0biIsImNvbmNhdCIsInNjcm9sbFRvIiwiYWNjb3JkaW9uSGVhZGVycyIsInBhbmVsIiwic2Nyb2xsQnkiLCJsZWZ0Iiwic2Nyb2xsTGVmdCIsImNsaWVudFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJvcGFjaXR5IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwic2Nyb2xsWSIsImhlYWRlciIsInRoaXMiLCJpc0Rvd24iLCJnYWxsZXJ5Q29udGFpbmVyIiwic3RhcnRYIiwicGFnZVgiLCJwYXNzaXZlIiwib2Zmc2V0TGVmdCIsIndhbGsiXSwibWFwcGluZ3MiOiJBQUNBLElBQUFBLFFBQUFDLFNBQUFDLGNBQUEsa0JBQUEsRUFDQUMsVUFBQUYsU0FBQUMsY0FBQSxjQUFBLEVBQ01GLGNBQWtCQyxTQUFDQyxjQUFjLG9CQUFtQixFQUUxRCxTQUFNRSxtQkFFTkgsU0FBU0ksaUJBQWdCLDBCQUFHLEVBQUFDLFFBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBQyxVQUFBQyxPQUFBLFFBQUEsQ0FBQSxDQUFBLEVBRTNCUixTQURRUyxpQkFBaUIsMkJBQTJCLEVBQUVKLFFBQVEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBSSxZQUFDLEdBQUEsQ0FBQSxDQUVoRSxDQURDVixTQUFTUyxXQUlUVixRQUpnRVksaUJBQWtCLFFBQU0sV0FBQVosUUFBRVEsVUFBQUssT0FBQSxRQUFBLEVBQzNGVixVQUFBSyxVQUFBSyxPQUFBLFFBQUEsRUFFQVosU0FBV2EsS0FBSVgsVUFBV1UsT0FBQSxXQUFBLEVBQ3pCYixpQkFBUVksQ0FLUixDQUFDLEVBSUZY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IjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBNRU5VIE9GRi1TQ1JFRU4gKEhBTUJVUkdFUilcbi8vID09PT09PT09PT09PT09PT09PT09PT1cbmNvbnN0IG1lbnVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyX19tZW51JylcbmNvbnN0IG9mZlNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vZmZfX3NjcmVlbicpXG5jb25zdCBvZmZTY3JlZW5NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9mZl9fc2NyZWVuX19tZW51JylcblxuZnVuY3Rpb24gY2xvc2VBbGxTdWJtZW51cygpIHtcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9mZl9fc2NyZWVuX19hZGQuYWN0aXZlJykuZm9yRWFjaChlID0+IGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vZmZfX3NjcmVlbl9fdG9nZ2xlIHNwYW4nKS5mb3JFYWNoKGUgPT4gKGUudGV4dENvbnRlbnQgPSAnKycpKVxufVxuXG5pZiAobWVudUJ0biAmJiBvZmZTY3JlZW4pIHtcblx0bWVudUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdFx0b2ZmU2NyZWVuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW9wZW4nKVxuXHRcdGNsb3NlQWxsU3VibWVudXMoKVxuXHR9KVxufVxuXG4vLyBSb3p3aWphbmllIHBvZG1lbnUgdyBtZW51IG1vYmlsbnltXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub2ZmX19zY3JlZW5fX3RvZ2dsZSA+IGFbaHJlZj1cIiNcIl0nKS5mb3JFYWNoKGxpbmsgPT4ge1xuXHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKVxuXG5cdFx0Y29uc3Qgc3VibWVudSA9IGxpbmsuY2xvc2VzdCgnbGknKS5xdWVyeVNlbGVjdG9yKCcub2ZmX19zY3JlZW5fX2FkZCcpXG5cdFx0Y29uc3QgaXNBY3RpdmUgPSBzdWJtZW51LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJylcblxuXHRcdGNsb3NlQWxsU3VibWVudXMoKVxuXG5cdFx0aWYgKCFpc0FjdGl2ZSkge1xuXHRcdFx0c3VibWVudS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdFx0Y29uc3Qgc3BhbiA9IGxpbmsucXVlcnlTZWxlY3Rvcignc3BhbicpXG5cdFx0XHRpZiAoc3Bhbikgc3Bhbi50ZXh0Q29udGVudCA9ICfigJMnXG5cdFx0fVxuXHR9KVxufSlcblxuLy8gWmFteWthbmllIG1lbnUgcG8ga2xpa25pxJljaXUgdyBsaW5rXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub2ZmX19zY3JlZW5fX21lbnUgYVtocmVmXTpub3QoW2hyZWY9XCIjXCJdKScpLmZvckVhY2gobGluayA9PiB7XG5cdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0XHRjb25zdCBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS50cmltKClcblxuXHRcdC8vIHphbWtuaWogbWVudVxuXHRcdG1lbnVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRvZmZTY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpXG5cdFx0Y2xvc2VBbGxTdWJtZW51cygpXG5cblx0XHQvLyBzbW9vdGggc2Nyb2xsIG5hIFRFSiBzdHJvbmllXG5cdFx0aWYgKGhyZWYuc3RhcnRzV2l0aCgnIycpKSB7XG5cdFx0XHRjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGhyZWYpXG5cdFx0XHRpZiAodGFyZ2V0KSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHR0YXJnZXQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcblx0XHRcdFx0fSwgMzAwKVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGxpbmtpIHR5cHUgaW5kZXguaHRtbCNzZWtjamEg4oCUIHBvendhbGFteSBkemlhxYJhxIcgbm9ybWFsbmllXG5cdH0pXG59KVxuXG4vLyBSZXNldCBzdGFudSBtZW51IHByenkgcG93cm9jaWUgeiBiZmNhY2hlXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCBlID0+IHtcblx0aWYgKGUucGVyc2lzdGVkKSB7XG5cdFx0bWVudUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdG9mZlNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuJylcblx0XHRjbG9zZUFsbFN1Ym1lbnVzKClcblx0fVxufSlcblxuLy8gUmVzZXQgbWVudSBuYSBwb2RzdHJvbmFjaFxuaWYgKGxvY2F0aW9uLnBhdGhuYW1lICE9PSAnLycgJiYgIWxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdpbmRleC5odG1sJykpIHtcblx0bWVudUJ0bj8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0b2ZmU2NyZWVuPy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpXG5cdGNsb3NlQWxsU3VibWVudXMoKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBMSUdIVEJPWCBHQUxFUklJXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG5jb25zdCBnYWxsZXJ5SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeS1pdGVtJylcblxuY29uc3QgbGlnaHRib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxubGlnaHRib3guY2xhc3NOYW1lID0gJ2xpZ2h0Ym94J1xuXG5jb25zdCBsaWdodGJveENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxubGlnaHRib3hDb250ZW50LmNsYXNzTmFtZSA9ICdsaWdodGJveC1jb250ZW50J1xuXG5jb25zdCBsaWdodGJveEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG5saWdodGJveEltZy5pZCA9ICdsaWdodGJveC1pbWcnXG5cbmNvbnN0IGxpZ2h0Ym94UHJldkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5saWdodGJveFByZXZCdG4uY2xhc3NOYW1lID0gJ2xpZ2h0Ym94LXByZXYnXG5saWdodGJveFByZXZCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtbGVmdFwiPjwvaT4nXG5cbmNvbnN0IGxpZ2h0Ym94TmV4dEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5saWdodGJveE5leHRCdG4uY2xhc3NOYW1lID0gJ2xpZ2h0Ym94LW5leHQnXG5saWdodGJveE5leHRCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtcmlnaHRcIj48L2k+J1xuXG5jb25zdCBjbG9zZUFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuY2xvc2VBcmVhLmNsYXNzTmFtZSA9ICdsaWdodGJveC1jbG9zZS1hcmVhJ1xuXG5saWdodGJveC5hcHBlbmRDaGlsZChjbG9zZUFyZWEpXG5saWdodGJveC5hcHBlbmRDaGlsZChsaWdodGJveENvbnRlbnQpXG5saWdodGJveENvbnRlbnQuYXBwZW5kQ2hpbGQobGlnaHRib3hJbWcpXG5saWdodGJveC5hcHBlbmRDaGlsZChsaWdodGJveFByZXZCdG4pXG5saWdodGJveC5hcHBlbmRDaGlsZChsaWdodGJveE5leHRCdG4pXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpZ2h0Ym94KVxuXG5sZXQgY3VycmVudEluZGV4ID0gMFxuXG5mdW5jdGlvbiBvcGVuTGlnaHRib3goaW5kZXgpIHtcblx0Y3VycmVudEluZGV4ID0gaW5kZXhcblx0bGlnaHRib3hJbWcuc3JjID0gZ2FsbGVyeUl0ZW1zW2luZGV4XS5kYXRhc2V0LmZ1bGxcblx0bGlnaHRib3guc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xufVxuXG5nYWxsZXJ5SXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG9wZW5MaWdodGJveChpbmRleCkpXG59KVxuXG5saWdodGJveFByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0ZS5zdG9wUHJvcGFnYXRpb24oKVxuXHRjdXJyZW50SW5kZXggPSAoY3VycmVudEluZGV4IC0gMSArIGdhbGxlcnlJdGVtcy5sZW5ndGgpICUgZ2FsbGVyeUl0ZW1zLmxlbmd0aFxuXHRvcGVuTGlnaHRib3goY3VycmVudEluZGV4KVxufSlcblxubGlnaHRib3hOZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG5cdGUuc3RvcFByb3BhZ2F0aW9uKClcblx0Y3VycmVudEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgZ2FsbGVyeUl0ZW1zLmxlbmd0aFxuXHRvcGVuTGlnaHRib3goY3VycmVudEluZGV4KVxufSlcblxuZnVuY3Rpb24gY2xvc2VMaWdodGJveCgpIHtcblx0bGlnaHRib3guc3R5bGUuZGlzcGxheSA9ICdub25lJ1xufVxuXG5jbG9zZUFyZWEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUxpZ2h0Ym94KVxubGlnaHRib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0aWYgKGUudGFyZ2V0ID09PSBsaWdodGJveCkgY2xvc2VMaWdodGJveCgpXG59KVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG5cdGlmIChsaWdodGJveC5zdHlsZS5kaXNwbGF5ID09PSAnZmxleCcpIHtcblx0XHRpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSBsaWdodGJveFByZXZCdG4uY2xpY2soKVxuXHRcdGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSBsaWdodGJveE5leHRCdG4uY2xpY2soKVxuXHRcdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIGNsb3NlTGlnaHRib3goKVxuXHR9XG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBQQUdJTkFDSkEgT0fFgU9TWkXFg1xuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuY29uc3QgYW5ub3VuY2VtZW50UGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYW5ub3VuY2VtZW50cy1wYWdlJylcbmNvbnN0IHBhZ2VOdW1iZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbnVtYmVycycpXG5jb25zdCBwYWdpbmF0aW9uUHJldkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2LWJ0bicpXG5jb25zdCBwYWdpbmF0aW9uTmV4dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0LWJ0bicpXG5cbmlmIChhbm5vdW5jZW1lbnRQYWdlcy5sZW5ndGggJiYgcGFnZU51bWJlcnNDb250YWluZXIgJiYgcGFnaW5hdGlvblByZXZCdG4gJiYgcGFnaW5hdGlvbk5leHRCdG4pIHtcblx0bGV0IGN1cnJlbnRQYWdlID0gMVxuXHRjb25zdCB0b3RhbFBhZ2VzID0gYW5ub3VuY2VtZW50UGFnZXMubGVuZ3RoXG5cblx0ZnVuY3Rpb24gc2hvd1BhZ2UocGFnZU51bWJlcikge1xuXHRcdGFubm91bmNlbWVudFBhZ2VzLmZvckVhY2goKHBhZ2UsIGluZGV4KSA9PiB7XG5cdFx0XHRwYWdlLmhpZGRlbiA9IGluZGV4ICsgMSAhPT0gcGFnZU51bWJlclxuXHRcdH0pXG5cblx0XHRjdXJyZW50UGFnZSA9IHBhZ2VOdW1iZXJcblxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlLW51bWJlcicpLmZvckVhY2goYnRuID0+IHtcblx0XHRcdGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBwYXJzZUludChidG4uZGF0YXNldC5wYWdlKSA9PT0gcGFnZU51bWJlcilcblx0XHR9KVxuXG5cdFx0cGFnaW5hdGlvblByZXZCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZWQnLCBjdXJyZW50UGFnZSA9PT0gMSlcblx0XHRwYWdpbmF0aW9uTmV4dEJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlZCcsIGN1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzKVxuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyUGFnaW5hdGlvbigpIHtcblx0XHRwYWdlTnVtYmVyc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xuXG5cdFx0Y29uc3QgY3JlYXRlUGFnZUJ1dHRvbiA9IG51bSA9PiB7XG5cdFx0XHRjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuXHRcdFx0YnV0dG9uLmNsYXNzTmFtZSA9ICdwYWdlLW51bWJlcidcblx0XHRcdGJ1dHRvbi5kYXRhc2V0LnBhZ2UgPSBudW1cblx0XHRcdGJ1dHRvbi50ZXh0Q29udGVudCA9IG51bVxuXHRcdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2hvd1BhZ2UobnVtKSlcblx0XHRcdGlmIChudW0gPT09IGN1cnJlbnRQYWdlKSBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHRcdHBhZ2VOdW1iZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbilcblx0XHR9XG5cblx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSBNYXRoLm1pbigzLCB0b3RhbFBhZ2VzKTsgaSsrKSBjcmVhdGVQYWdlQnV0dG9uKGkpXG5cblx0XHRpZiAodG90YWxQYWdlcyA+IDQpIHtcblx0XHRcdGNvbnN0IGRvdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcblx0XHRcdGRvdHMuY2xhc3NOYW1lID0gJ3BhZ2UtbnVtYmVyIGRvdHMnXG5cdFx0XHRkb3RzLnRleHRDb250ZW50ID0gJy4uLidcblx0XHRcdHBhZ2VOdW1iZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvdHMpXG5cdFx0fVxuXG5cdFx0aWYgKHRvdGFsUGFnZXMgPiAzKSBjcmVhdGVQYWdlQnV0dG9uKHRvdGFsUGFnZXMpXG5cdH1cblxuXHRwYWdpbmF0aW9uUHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRpZiAoY3VycmVudFBhZ2UgPiAxKSBzaG93UGFnZShjdXJyZW50UGFnZSAtIDEpXG5cdH0pXG5cblx0cGFnaW5hdGlvbk5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0aWYgKGN1cnJlbnRQYWdlIDwgdG90YWxQYWdlcykgc2hvd1BhZ2UoY3VycmVudFBhZ2UgKyAxKVxuXHR9KVxuXG5cdHJlbmRlclBhZ2luYXRpb24oKVxuXHRzaG93UGFnZSgxKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBORVdTIENBUk9VU0VMXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG5jb25zdCBuZXdzRGF0YSA9IFtcblx0e1xuXHRcdGltYWdlOiAnLi4vaW1nLzU5Mjk2MDE1MV8xMTU0NDg4NDkwMTMwMjQyXzg4Nzc2MTIxMzU2NjY5MjM1MTBfbi5qcGcnLFxuXHRcdGRhdGU6ICcxNSBncnVkbmlhIDIwMjUnLFxuXHRcdHRpdGxlOiAnTXN6YSDFm3dpxJl0YSB3IFNhbmt0dWFyaXVtIEdpZXRyendhxYJkemtpbScsXG5cdFx0ZXhjZXJwdDogJ1cgZ2lldHJ6d2HFgmR6a2ltIHNhbmt0dWFyaXVtIG9kYnnFgmEgc2nEmSBtc3phIHRyYWR5Y3lqbmEgeiB1ZHppYcWCZW0gbmFzemVnbyBkdXN6cGFzdGVyc3R3YS4nLFxuXHRcdGxpbms6ICdtc3phLXN3aWV0YS13LXNhbmt0dWFyaXVtLWdpZXRyendhbGR6a2ltLmh0bWwnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICcuLi9pbWcva3NpxJnFvGEuanBnJyxcblx0XHR0aXRsZTogJ1Byb2Zlc2plIHdpZWN6eXN0ZScsXG5cdFx0ZGF0ZTogJzggZ3J1ZG5pYSAyMDI1Jyxcblx0XHRleGNlcnB0OiAnS3NpxJnFvGEgeiBuYXN6ZWogd3Nww7Nsbm90eSB6xYJvxbx5bGkgcHJvZmVzamUgd2llY3p5c3RlIHBvZGN6YXMgdXJvY3p5c3RlaiBNc3p5IMWbdy4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDInLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICcuLi9pbWcvZHp3b24uanBnJyxcblx0XHR0aXRsZTogJ1Vyb2N6eXN0ZSBwb8Wbd2nEmWNlbmllIGR6d29udScsXG5cdFx0ZGF0ZTogJzEgbGlzdG9wYWRhIDIwMjUnLFxuXHRcdGV4Y2VycHQ6ICdOb3d5IGR6d29uIGRsYSBuYXN6ZWoga2FwbGljeSB6b3N0YcWCIHBvxZt3acSZY29ueSBwcnpleiBrc2nEmWR6YSBiaXNrdXBhLicsXG5cdFx0bGluazogJyNhcnR5a3VsMycsXG5cdH0sXG5cdHtcblx0XHRpbWFnZTogJ2h0dHBzOi8vd3d3Lm9zbW9sLnBsL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIxLzAzL1N3aWV0YS1MaXBrYS53ZWJwJyxcblx0XHR0aXRsZTogJ1BpZWxncnp5bWthIGRvIMWad2nEmXRlaiBMaXBraScsXG5cdFx0ZGF0ZTogJzIwIHBhxbpkemllcm5pa2EgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ0Nvcm9jem5hIHBpZWxncnp5bWthIGR1c3pwYXN0ZXJzdHdhIGRvIHNhbmt0dWFyaXVtIHcgxZp3acSZdGVqIExpcGNlLicsXG5cdFx0bGluazogJyNhcnR5a3VsNCcsXG5cdH0sXG5cdHtcblx0XHRpbWFnZTogJ2h0dHBzOi8vbmlraWR3LmVkdS5wbC93cC1jb250ZW50L3VwbG9hZHMvMjAyNC8xMi9hZHZlbnQtMTg4Mzg0MF8xMjgwLmpwZycsXG5cdFx0dGl0bGU6ICdSZWtvbGVrY2plIGFkd2VudG93ZScsXG5cdFx0ZGF0ZTogJzUgZ3J1ZG5pYSAyMDI1Jyxcblx0XHRleGNlcnB0OiAnUm96cG9jesSZxYJ5IHNpxJkgcmVrb2xla2NqZSBhZHdlbnRvd2UgcHJvd2Fkem9uZSBwcnpleiBrcy4gcHJvYm9zemN6YS4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDUnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICdodHRwczovL2NvZHppZW5ueXBvem5hbi5wbC93cC1jb250ZW50L3VwbG9hZHMvMjAyNS8xMi9PcGxhdGVrLVdpZ2lsaWEucG5nJyxcblx0XHR0aXRsZTogJ1Nwb3RrYW5pZSBvcMWCYXRrb3dlJyxcblx0XHRkYXRlOiAnMjAgZ3J1ZG5pYSAyMDI1Jyxcblx0XHRleGNlcnB0OiAnVHJhZHljeWpuZSBzcG90a2FuaWUgb3DFgmF0a293ZSB3c3DDs2xub3R5IHByemVkIEJvxbx5bSBOYXJvZHplbmllbS4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDYnLFxuXHR9LFxuXHR7XG5cdFx0aW1hZ2U6ICdodHRwczovL2VuY3J5cHRlZC10Ym4wLmdzdGF0aWMuY29tL2ltYWdlcz9xPXRibjpBTmQ5R2NUcVUwYXpVMXV0MGxKS0l5LUMwVUpUbDdEZFdUWldxYjRaTWcmcycsXG5cdFx0dGl0bGU6ICdNc3phIMWbdy4gUmVxdWllbScsXG5cdFx0ZGF0ZTogJzEwIGxpc3RvcGFkYSAyMDI1Jyxcblx0XHRleGNlcnB0OiAnUm96cG9jesSZY2llIGN5a2x1IE1zenkgxZt3LiBncmVnb3JpYcWEc2tpY2ggemEgem1hcsWCeWNoLicsXG5cdFx0bGluazogJyNhcnR5a3VsNycsXG5cdH0sXG5cdHtcblx0XHRpbWFnZTogJ2h0dHBzOi8vZGllY2V6amEucGwvd3AtY29udGVudC91cGxvYWRzLzIwMjMvMDkva2F0ZWNoZXphMi5qcGcnLFxuXHRcdHRpdGxlOiAnS2F0ZWNoZXphIGRsYSBtxYJvZHppZcW8eScsXG5cdFx0ZGF0ZTogJzI1IHBhxbpkemllcm5pa2EgMjAyNScsXG5cdFx0ZXhjZXJwdDogJ1Nwb3RrYW5pZSBmb3JtYWN5am5lIGRsYSBtxYJvZHppZcW8eSB6IGR1c3pwYXN0ZXJzdHdhLicsXG5cdFx0bGluazogJyNhcnR5a3VsOCcsXG5cdH0sXG5cdHtcblx0XHRpbWFnZTogJ2h0dHBzOi8va3VyaWVyb3N0cm93c2tpLnBsL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE5LzEyL3JvcmF0eS1mb3QyLmpwZycsXG5cdFx0dGl0bGU6ICdSb3JhdHkgMjAyNScsXG5cdFx0ZGF0ZTogJzEgZ3J1ZG5pYSAyMDI1Jyxcblx0XHRleGNlcnB0OiAnWmFwcmFzemFteSBuYSBjb2R6aWVubmUgTXN6ZSByb3JhdG5pZSB3IG9rcmVzaWUgQWR3ZW50dS4nLFxuXHRcdGxpbms6ICcjYXJ0eWt1bDknLFxuXHR9LFxuXVxuXG5jb25zdCBuZXdzR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdzR3JpZCcpXG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld3NDYXJkKGl0ZW0pIHtcblx0Y29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FydGljbGUnKVxuXHRjYXJkLmNsYXNzTmFtZSA9ICduZXdzLWNhcmQnXG5cblx0Y2FyZC5pbm5lckhUTUwgPSBgXG4gICAgPGltZyBzcmM9XCIke2l0ZW0uaW1hZ2V9XCIgYWx0PVwiJHtpdGVtLnRpdGxlfVwiIGNsYXNzPVwibmV3cy1jYXJkX19pbWFnZVwiPlxuICAgIDxkaXYgY2xhc3M9XCJuZXdzLWNhcmRfX2NvbnRlbnRcIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiZGF0ZVwiPiR7aXRlbS5kYXRlfTwvc3Bhbj5cbiAgICAgIDxoMz4ke2l0ZW0udGl0bGV9PC9oMz5cbiAgICAgIDxwPiR7aXRlbS5leGNlcnB0fTwvcD5cbiAgICAgIDxhIGhyZWY9XCIke2l0ZW0ubGlua31cIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+Q3p5dGFqIGRhbGVqIOKGkjwvYT5cbiAgICA8L2Rpdj5cbiAgYFxuXG5cdHJldHVybiBjYXJkXG59XG5cbmlmIChuZXdzR3JpZCkge1xuXHRuZXdzRGF0YS5mb3JFYWNoKGl0ZW0gPT4gbmV3c0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlTmV3c0NhcmQoaXRlbSkpKVxuXG5cdGNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3cy1jYXJvdXNlbF9fcHJldicpXG5cdGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3cy1jYXJvdXNlbF9fbmV4dCcpXG5cblx0Y29uc3Qgc2Nyb2xsQW1vdW50ID0gMzcwXG5cblx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRuZXdzR3JpZC5zY3JvbGxCeSh7IGxlZnQ6IHNjcm9sbEFtb3VudCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pXG5cdH0pXG5cblx0cHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRuZXdzR3JpZC5zY3JvbGxCeSh7IGxlZnQ6IC1zY3JvbGxBbW91bnQsIGJlaGF2aW9yOiAnc21vb3RoJyB9KVxuXHR9KVxuXG5cdG5ld3NHcmlkLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcblx0XHRwcmV2QnRuLmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGVkJywgbmV3c0dyaWQuc2Nyb2xsTGVmdCA8PSAxMClcblx0XHRuZXh0QnRuLmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGVkJywgbmV3c0dyaWQuc2Nyb2xsTGVmdCArIG5ld3NHcmlkLmNsaWVudFdpZHRoID49IG5ld3NHcmlkLnNjcm9sbFdpZHRoIC0gMTApXG5cdH0pXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1cbi8vIERPTUNvbnRlbnRMb2FkZWQg4oCTIGFrdHVhbG55IHJvaywgc2Nyb2xsLXRvLXRvcCwgYWNjb3JkaW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuXHRjb25zdCB5ZWFyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXllYXInKVxuXHRpZiAoeWVhckVsZW1lbnQpIHllYXJFbGVtZW50LnRleHRDb250ZW50ID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXG5cblx0Y29uc3Qgc2Nyb2xsVG9wQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njcm9sbFRvcEJ0bicpXG5cdGlmIChzY3JvbGxUb3BCdG4pIHtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdFx0c2Nyb2xsVG9wQnRuLmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnLCB3aW5kb3cuc2Nyb2xsWSA+IDMwMClcblx0XHR9KVxuXG5cdFx0c2Nyb2xsVG9wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0d2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSlcblx0XHR9KVxuXHR9XG5cblx0Y29uc3QgYWNjb3JkaW9uSGVhZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2hlYWRlcicpXG5cdGFjY29yZGlvbkhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuXHRcdGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvbnN0IHBhbmVsID0gdGhpcy5uZXh0RWxlbWVudFNpYmxpbmdcblx0XHRcdGlmICghcGFuZWwgfHwgIXBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uX19wYW5lbCcpKSByZXR1cm5cblxuXHRcdFx0Y29uc3QgaXNPcGVuID0gcGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJylcblxuXHRcdFx0aWYgKGlzT3Blbikge1xuXHRcdFx0XHRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJylcblx0XHRcdFx0dGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGFuZWwuY2xhc3NMaXN0LmFkZCgnb3BlbicpXG5cdFx0XHRcdHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHRcdH1cblx0XHR9KVxuXHR9KVxufSlcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuLy8gUk9aSkHFmk5JRU5JRSBNSU5JQVRVUkVLXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuXHRjb25zdCBnYWxsZXJ5SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeS1pdGVtJylcblx0aWYgKCFnYWxsZXJ5SXRlbXMubGVuZ3RoKSByZXR1cm5cblxuXHRnYWxsZXJ5SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcblx0XHRpdGVtLnN0eWxlLnRyYW5zaXRpb24gPSAnb3BhY2l0eSAwLjNzIGVhc2UnXG5cblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiAoaXRlbS5zdHlsZS5vcGFjaXR5ID0gJzEnKSlcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiAoaXRlbS5zdHlsZS5vcGFjaXR5ID0gJzAuODUnKSlcblxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiAoaXRlbS5zdHlsZS5vcGFjaXR5ID0gJzEnKSlcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiAoaXRlbS5zdHlsZS5vcGFjaXR5ID0gJzAuODUnKSlcblxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IChpdGVtLnN0eWxlLm9wYWNpdHkgPSAnMScpLCB7IHBhc3NpdmU6IHRydWUgfSlcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4gc2V0VGltZW91dCgoKSA9PiAoaXRlbS5zdHlsZS5vcGFjaXR5ID0gJzAuODUnKSwgMjAwKSlcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgKCkgPT4gKGl0ZW0uc3R5bGUub3BhY2l0eSA9ICcwLjg1JykpXG5cdH0pXG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XG4vLyBNT1VTRSBEUkFHIFRPIFNDUk9MTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcblx0Y29uc3QgZ2FsbGVyeUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYWxsZXJ5LWNvbnRhaW5lcicpXG5cdGlmICghZ2FsbGVyeUNvbnRhaW5lcikgcmV0dXJuXG5cblx0bGV0IGlzRG93biA9IGZhbHNlXG5cdGxldCBzdGFydFhcblx0bGV0IHNjcm9sbExlZnRcblxuXHRnYWxsZXJ5Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4ge1xuXHRcdGlzRG93biA9IHRydWVcblx0XHRnYWxsZXJ5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0c3RhcnRYID0gZS5wYWdlWCAtIGdhbGxlcnlDb250YWluZXIub2Zmc2V0TGVmdFxuXHRcdHNjcm9sbExlZnQgPSBnYWxsZXJ5Q29udGFpbmVyLnNjcm9sbExlZnRcblx0fSlcblxuXHRnYWxsZXJ5Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG5cdFx0aXNEb3duID0gZmFsc2Vcblx0XHRnYWxsZXJ5Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0pXG5cblx0Z2FsbGVyeUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuXHRcdGlzRG93biA9IGZhbHNlXG5cdFx0Z2FsbGVyeUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHR9KVxuXG5cdGdhbGxlcnlDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7XG5cdFx0aWYgKCFpc0Rvd24pIHJldHVyblxuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdGNvbnN0IHggPSBlLnBhZ2VYIC0gZ2FsbGVyeUNvbnRhaW5lci5vZmZzZXRMZWZ0XG5cdFx0Y29uc3Qgd2FsayA9ICh4IC0gc3RhcnRYKSAqIDJcblx0XHRnYWxsZXJ5Q29udGFpbmVyLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0IC0gd2Fsa1xuXHR9KVxufSlcbiJdfQ==
